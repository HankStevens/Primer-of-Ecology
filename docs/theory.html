<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Theory in Ecology | Primer of Ecology using R</title>
  <meta name="description" content="1 Theory in Ecology | Primer of Ecology using R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Theory in Ecology | Primer of Ecology using R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="HankStevens/Primer-of-Ecology" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Theory in Ecology | Primer of Ecology using R" />
  
  
  

<meta name="author" content="Hank Stevens" />


<meta name="date" content="2020-10-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="oft.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="theory.html"><a href="theory.html"><i class="fa fa-check"></i><b>1</b> Theory in Ecology</a><ul>
<li class="chapter" data-level="1.1" data-path="theory.html"><a href="theory.html#examples-of-theories"><i class="fa fa-check"></i><b>1.1</b> Examples of theories</a><ul>
<li class="chapter" data-level="1.1.1" data-path="theory.html"><a href="theory.html#hierarchy-theory"><i class="fa fa-check"></i><b>1.1.1</b> Hierarchy theory</a></li>
<li class="chapter" data-level="1.1.2" data-path="theory.html"><a href="theory.html#a-general-theory-of-ecology"><i class="fa fa-check"></i><b>1.1.2</b> A general theory of ecology</a></li>
<li class="chapter" data-level="1.1.3" data-path="theory.html"><a href="theory.html#efficient-theory"><i class="fa fa-check"></i><b>1.1.3</b> Efficient theory</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="theory.html"><a href="theory.html#metabolic_scaling"><i class="fa fa-check"></i><b>1.2</b> An example: Metabolic Theory of Ecology</a><ul>
<li class="chapter" data-level="1.2.1" data-path="theory.html"><a href="theory.html#body-size-dependence"><i class="fa fa-check"></i><b>1.2.1</b> Body-size dependence</a></li>
<li class="chapter" data-level="1.2.2" data-path="theory.html"><a href="theory.html#temperature-dependence"><i class="fa fa-check"></i><b>1.2.2</b> Temperature dependence</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="theory.html"><a href="theory.html#power-law-scaling-implies-constant-relative-differences"><i class="fa fa-check"></i><b>1.3</b> Power law scaling implies constant relative differences</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="oft.html"><a href="oft.html"><i class="fa fa-check"></i><b>2</b> Optimal Foraging</a><ul>
<li class="chapter" data-level="2.1" data-path="oft.html"><a href="oft.html#a-prey-model"><i class="fa fa-check"></i><b>2.1</b> A prey model</a><ul>
<li class="chapter" data-level="2.1.1" data-path="oft.html"><a href="oft.html#our-intuition"><i class="fa fa-check"></i><b>2.1.1</b> Our intuition</a></li>
<li class="chapter" data-level="2.1.2" data-path="oft.html"><a href="oft.html#mathematical-support"><i class="fa fa-check"></i><b>2.1.2</b> Mathematical support</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="oft.html"><a href="oft.html#the-patch-model"><i class="fa fa-check"></i><b>2.2</b> The patch model</a></li>
<li class="chapter" data-level="2.3" data-path="oft.html"><a href="oft.html#a-simulation-of-a-prey-model"><i class="fa fa-check"></i><b>2.3</b> A simulation of a prey model</a><ul>
<li class="chapter" data-level="2.3.1" data-path="oft.html"><a href="oft.html#lab-exercise"><i class="fa fa-check"></i><b>2.3.1</b> Lab exercise</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="expo.html"><a href="expo.html"><i class="fa fa-check"></i><b>3</b> Simple density-independent growth</a><ul>
<li class="chapter" data-level="3.1" data-path="expo.html"><a href="expo.html#discrete-growth-rates-of-fruit-flies-in-my-kitchen"><i class="fa fa-check"></i><b>3.1</b> Discrete growth rates of fruit flies in my kitchen</a></li>
<li class="chapter" data-level="3.2" data-path="expo.html"><a href="expo.html#fruit-flies-with-continuous-overlapping-generations"><i class="fa fa-check"></i><b>3.2</b> Fruit flies with continuous overlapping generations</a></li>
<li class="chapter" data-level="3.3" data-path="expo.html"><a href="expo.html#properties-of-geometric-and-exponential-growth"><i class="fa fa-check"></i><b>3.3</b> Properties of geometric and exponential growth</a><ul>
<li class="chapter" data-level="3.3.1" data-path="expo.html"><a href="expo.html#average-growth-rate"><i class="fa fa-check"></i><b>3.3.1</b> Average growth rate</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="expo.html"><a href="expo.html#modeling-with-data-simulated-dynamics"><i class="fa fa-check"></i><b>3.4</b> Modeling with Data: Simulated Dynamics</a><ul>
<li class="chapter" data-level="3.4.1" data-path="expo.html"><a href="expo.html#data-based-approaches"><i class="fa fa-check"></i><b>3.4.1</b> Data-based approaches</a></li>
<li class="chapter" data-level="3.4.2" data-path="expo.html"><a href="expo.html#creating-and-visualizing-the-data"><i class="fa fa-check"></i><b>3.4.2</b> Creating and visualizing the data</a></li>
<li class="chapter" data-level="3.4.3" data-path="expo.html"><a href="expo.html#one-simulation"><i class="fa fa-check"></i><b>3.4.3</b> One simulation</a></li>
<li class="chapter" data-level="3.4.4" data-path="expo.html"><a href="expo.html#multiple-simulations"><i class="fa fa-check"></i><b>3.4.4</b> Multiple simulations</a></li>
<li class="chapter" data-level="3.4.5" data-path="expo.html"><a href="expo.html#a-distribution-of-possible-futures"><i class="fa fa-check"></i><b>3.4.5</b> A distribution of possible futures</a></li>
<li class="chapter" data-level="3.4.6" data-path="expo.html"><a href="expo.html#analyzing-results"><i class="fa fa-check"></i><b>3.4.6</b> Analyzing results</a></li>
<li class="chapter" data-level="3.4.7" data-path="expo.html"><a href="expo.html#inferring-processes-underlying-growth-rate"><i class="fa fa-check"></i><b>3.4.7</b> Inferring processes underlying growth rate</a></li>
<li class="chapter" data-level="3.4.8" data-path="expo.html"><a href="expo.html#f-environmental-noise"><i class="fa fa-check"></i><b>3.4.8</b> 1/<span class="math inline">\(f\)</span> environmental noise</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="DID.html"><a href="DID.html"><i class="fa fa-check"></i><b>4</b> Density-independent Demography</a><ul>
<li class="chapter" data-level="4.1" data-path="DID.html"><a href="DID.html#a-two-stage-matrix-model"><i class="fa fa-check"></i><b>4.1</b> A two stage matrix model</a></li>
<li class="chapter" data-level="4.2" data-path="DID.html"><a href="DID.html#a-brief-primer-on-matrices"><i class="fa fa-check"></i><b>4.2</b> A brief primer on matrices</a></li>
<li class="chapter" data-level="4.3" data-path="DID.html"><a href="DID.html#decomposing-a"><i class="fa fa-check"></i><b>4.3</b> Decomposing <strong>A</strong></a></li>
<li class="chapter" data-level="4.4" data-path="DID.html"><a href="DID.html#a-three-stage-model"><i class="fa fa-check"></i><b>4.4</b> A three stage model</a></li>
<li class="chapter" data-level="4.5" data-path="DID.html"><a href="DID.html#projection"><i class="fa fa-check"></i><b>4.5</b> Projection</a></li>
<li class="chapter" data-level="4.6" data-path="DID.html"><a href="DID.html#analyzing-the-transition-matrix"><i class="fa fa-check"></i><b>4.6</b> Analyzing the transition matrix</a><ul>
<li class="chapter" data-level="4.6.1" data-path="DID.html"><a href="DID.html#eigenanalysis"><i class="fa fa-check"></i><b>4.6.1</b> Eigenanalysis</a></li>
<li class="chapter" data-level="4.6.2" data-path="DID.html"><a href="DID.html#finite-rate-of-increase"><i class="fa fa-check"></i><b>4.6.2</b> Finite rate of increase</a></li>
<li class="chapter" data-level="4.6.3" data-path="DID.html"><a href="DID.html#stable-stage-distribution"><i class="fa fa-check"></i><b>4.6.3</b> Stable stage distribution</a></li>
<li class="chapter" data-level="4.6.4" data-path="DID.html"><a href="DID.html#calculating-the-stable-stage-distribution"><i class="fa fa-check"></i><b>4.6.4</b> Calculating the stable stage distribution</a></li>
<li class="chapter" data-level="4.6.5" data-path="DID.html"><a href="DID.html#reproductive-value"><i class="fa fa-check"></i><b>4.6.5</b> Reproductive value</a></li>
<li class="chapter" data-level="4.6.6" data-path="DID.html"><a href="DID.html#sensitivity-and-elasticity"><i class="fa fa-check"></i><b>4.6.6</b> Sensitivity and elasticity</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="DID.html"><a href="DID.html#integral-projection"><i class="fa fa-check"></i><b>4.7</b> Integral projection</a><ul>
<li class="chapter" data-level="4.7.1" data-path="DID.html"><a href="DID.html#a-size-based-ipm-of-smooth-coneflower"><i class="fa fa-check"></i><b>4.7.1</b> A size-based IPM of smooth coneflower</a></li>
<li class="chapter" data-level="4.7.2" data-path="DID.html"><a href="DID.html#population-summaries"><i class="fa fa-check"></i><b>4.7.2</b> Population summaries</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="DID.html"><a href="DID.html#r-packges-for-demography"><i class="fa fa-check"></i><b>4.8</b> R packges for demography</a></li>
<li class="chapter" data-level="4.9" data-path="DID.html"><a href="DID.html#exploring-a-real-population"><i class="fa fa-check"></i><b>4.9</b> Exploring a real population</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="DDgrowth.html"><a href="DDgrowth.html"><i class="fa fa-check"></i><b>5</b> Density-dependent growth</a><ul>
<li class="chapter" data-level="5.1" data-path="DDgrowth.html"><a href="DDgrowth.html#continuous-logistic-growth"><i class="fa fa-check"></i><b>5.1</b> Continuous logistic growth</a></li>
<li class="chapter" data-level="5.2" data-path="DDgrowth.html"><a href="DDgrowth.html#dynamics-around-the-equilibria-stability"><i class="fa fa-check"></i><b>5.2</b> Dynamics around the equilibria — stability</a><ul>
<li class="chapter" data-level="5.2.1" data-path="DDgrowth.html"><a href="DDgrowth.html#analytical-linear-stability-analysis"><i class="fa fa-check"></i><b>5.2.1</b> Analytical linear stability analysis</a></li>
<li class="chapter" data-level="5.2.2" data-path="DDgrowth.html"><a href="DDgrowth.html#projection-with-numerical-integration"><i class="fa fa-check"></i><b>5.2.2</b> Projection with numerical integration</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="DDgrowth.html"><a href="DDgrowth.html#other-forms-of-density-dependent-growth"><i class="fa fa-check"></i><b>5.3</b> Other forms of density-dependent growth</a><ul>
<li class="chapter" data-level="5.3.1" data-path="DDgrowth.html"><a href="DDgrowth.html#effects-of-n-on-birth-and-death-rates"><i class="fa fa-check"></i><b>5.3.1</b> Effects of N on birth and death rates</a></li>
<li class="chapter" data-level="5.3.2" data-path="DDgrowth.html"><a href="DDgrowth.html#theta-logistic-growth"><i class="fa fa-check"></i><b>5.3.2</b> Theta-logistic growth</a></li>
<li class="chapter" data-level="5.3.3" data-path="DDgrowth.html"><a href="DDgrowth.html#allee-effect"><i class="fa fa-check"></i><b>5.3.3</b> Allee effect</a></li>
<li class="chapter" data-level="5.3.4" data-path="DDgrowth.html"><a href="DDgrowth.html#the-integral-of-logistic-growth"><i class="fa fa-check"></i><b>5.3.4</b> The integral of logistic growth</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="DDgrowth.html"><a href="DDgrowth.html#discrete-density-dependent-growth"><i class="fa fa-check"></i><b>5.4</b> Discrete Density-dependent Growth</a><ul>
<li class="chapter" data-level="5.4.1" data-path="DDgrowth.html"><a href="DDgrowth.html#effects-of-r_d"><i class="fa fa-check"></i><b>5.4.1</b> Effects of <span class="math inline">\(r_d\)</span></a></li>
<li class="chapter" data-level="5.4.2" data-path="DDgrowth.html"><a href="DDgrowth.html#bifurcations"><i class="fa fa-check"></i><b>5.4.2</b> Bifurcations</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="DDgrowth.html"><a href="DDgrowth.html#maximum-sustained-yield"><i class="fa fa-check"></i><b>5.5</b> Maximum Sustained Yield</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="meta.html"><a href="meta.html"><i class="fa fa-check"></i><b>6</b> Populations in Space</a><ul>
<li class="chapter" data-level="6.1" data-path="meta.html"><a href="meta.html#source-sink-dynamics"><i class="fa fa-check"></i><b>6.1</b> Source-sink Dynamics</a><ul>
<li class="chapter" data-level="6.1.1" data-path="meta.html"><a href="meta.html#complications-and-cases"><i class="fa fa-check"></i><b>6.1.1</b> Complications and cases</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="meta.html"><a href="meta.html#metapopulations"><i class="fa fa-check"></i><b>6.2</b> Metapopulations</a><ul>
<li class="chapter" data-level="6.2.1" data-path="meta.html"><a href="meta.html#the-classic-levins-model"><i class="fa fa-check"></i><b>6.2.1</b> The classic Levins model</a></li>
<li class="chapter" data-level="6.2.2" data-path="meta.html"><a href="meta.html#propagule-rain"><i class="fa fa-check"></i><b>6.2.2</b> Propagule rain</a></li>
<li class="chapter" data-level="6.2.3" data-path="meta.html"><a href="meta.html#the-rescue-effect-and-the-core-satellite-model"><i class="fa fa-check"></i><b>6.2.3</b> The rescue effect and the core-satellite model</a></li>
<li class="chapter" data-level="6.2.4" data-path="meta.html"><a href="meta.html#parallels-with-logistic-growth"><i class="fa fa-check"></i><b>6.2.4</b> Parallels with Logistic Growth</a></li>
<li class="chapter" data-level="6.2.5" data-path="meta.html"><a href="meta.html#levins-vs.-hanski"><i class="fa fa-check"></i><b>6.2.5</b> Levins <span class="math inline">\(vs\)</span>. Hanski</a></li>
<li class="chapter" data-level="6.2.6" data-path="meta.html"><a href="meta.html#habitat-destruction"><i class="fa fa-check"></i><b>6.2.6</b> Habitat Destruction</a></li>
<li class="chapter" data-level="6.2.7" data-path="meta.html"><a href="meta.html#illustrating-the-effects-of-habitat-destruction"><i class="fa fa-check"></i><b>6.2.7</b> Illustrating the effects of habitat destruction</a></li>
<li class="chapter" data-level="6.2.8" data-path="meta.html"><a href="meta.html#different-assumptions-lead-to-different-predictions-about-rates-of-extinction"><i class="fa fa-check"></i><b>6.2.8</b> Different assumptions lead to different predictions about rates of extinction</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="meta.html"><a href="meta.html#hanskis-incidence-function"><i class="fa fa-check"></i><b>6.3</b> Hanski’s incidence function</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="competition.html"><a href="competition.html"><i class="fa fa-check"></i><b>7</b> Competition</a><ul>
<li class="chapter" data-level="7.1" data-path="competition.html"><a href="competition.html#lotka-volterra-interspecific-competition"><i class="fa fa-check"></i><b>7.1</b> Lotka-Volterra Interspecific Competition</a></li>
<li class="chapter" data-level="7.2" data-path="competition.html"><a href="competition.html#equilbria"><i class="fa fa-check"></i><b>7.2</b> Equilbria</a><ul>
<li class="chapter" data-level="7.2.1" data-path="competition.html"><a href="competition.html#isoclines"><i class="fa fa-check"></i><b>7.2.1</b> Isoclines</a></li>
<li class="chapter" data-level="7.2.2" data-path="competition.html"><a href="competition.html#finding-equilibria"><i class="fa fa-check"></i><b>7.2.2</b> Finding equilibria</a></li>
<li class="chapter" data-level="7.2.3" data-path="competition.html"><a href="competition.html#coexistence-the-invasion-criterion"><i class="fa fa-check"></i><b>7.2.3</b> Coexistence — the invasion criterion</a></li>
<li class="chapter" data-level="7.2.4" data-path="competition.html"><a href="competition.html#other-equilibria"><i class="fa fa-check"></i><b>7.2.4</b> Other equilibria</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="competition.html"><a href="competition.html#dynamics-at-the-equilibria"><i class="fa fa-check"></i><b>7.3</b> Dynamics at the Equilibria</a><ul>
<li class="chapter" data-level="7.3.1" data-path="competition.html"><a href="competition.html#determine-the-equilibria"><i class="fa fa-check"></i><b>7.3.1</b> Determine the equilibria</a></li>
<li class="chapter" data-level="7.3.2" data-path="competition.html"><a href="competition.html#create-the-jacobian-matrix"><i class="fa fa-check"></i><b>7.3.2</b> Create the Jacobian matrix</a></li>
<li class="chapter" data-level="7.3.3" data-path="competition.html"><a href="competition.html#solve-the-jacobian-at-an-equilibrium"><i class="fa fa-check"></i><b>7.3.3</b> Solve the Jacobian at an equilibrium</a></li>
<li class="chapter" data-level="7.3.4" data-path="competition.html"><a href="competition.html#use-the-jacobian-matrix"><i class="fa fa-check"></i><b>7.3.4</b> Use the Jacobian matrix</a></li>
<li class="chapter" data-level="7.3.5" data-path="competition.html"><a href="competition.html#three-interesting-equilbria"><i class="fa fa-check"></i><b>7.3.5</b> Three interesting equilbria</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="competition.html"><a href="competition.html#return-time-and-the-effect-of-r"><i class="fa fa-check"></i><b>7.4</b> Return Time and the Effect of <span class="math inline">\(r\)</span></a></li>
<li class="chapter" data-level="7.5" data-path="competition.html"><a href="competition.html#indirect-competition-for-resources"><i class="fa fa-check"></i><b>7.5</b> Indirect competition for resources</a><ul>
<li class="chapter" data-level="7.5.1" data-path="competition.html"><a href="competition.html#linear-and-nonlinear-responses"><i class="fa fa-check"></i><b>7.5.1</b> Linear and nonlinear responses</a></li>
<li class="chapter" data-level="7.5.2" data-path="competition.html"><a href="competition.html#relative-nonlinearity"><i class="fa fa-check"></i><b>7.5.2</b> Relative nonlinearity</a></li>
<li class="chapter" data-level="7.5.3" data-path="competition.html"><a href="competition.html#competition-for-two-resources-the-resource-ratio-model"><i class="fa fa-check"></i><b>7.5.3</b> Competition for two resources: the resource ratio model</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="competition.html"><a href="competition.html#summary"><i class="fa fa-check"></i><b>7.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mutualisms.html"><a href="mutualisms.html"><i class="fa fa-check"></i><b>8</b> Mutualisms</a><ul>
<li class="chapter" data-level="8.1" data-path="mutualisms.html"><a href="mutualisms.html#background"><i class="fa fa-check"></i><b>8.1</b> Background</a></li>
<li class="chapter" data-level="8.2" data-path="mutualisms.html"><a href="mutualisms.html#lotka-volterra-mutualism"><i class="fa fa-check"></i><b>8.2</b> Lotka-Volterra mutualism</a></li>
<li class="chapter" data-level="8.3" data-path="mutualisms.html"><a href="mutualisms.html#consumer-resource-mutualism"><i class="fa fa-check"></i><b>8.3</b> Consumer-resource mutualism</a><ul>
<li class="chapter" data-level="8.3.1" data-path="mutualisms.html"><a href="mutualisms.html#a-model-of-uni-directional-mutualism"><i class="fa fa-check"></i><b>8.3.1</b> A model of uni-directional mutualism</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="mutualisms.html"><a href="mutualisms.html#plant-soil-feedbacks"><i class="fa fa-check"></i><b>8.4</b> Plant-soil feedbacks</a></li>
<li class="chapter" data-level="8.5" data-path="mutualisms.html"><a href="mutualisms.html#simulations-for-learning"><i class="fa fa-check"></i><b>8.5</b> Simulations for learning</a><ul>
<li class="chapter" data-level="8.5.1" data-path="mutualisms.html"><a href="mutualisms.html#lvg"><i class="fa fa-check"></i><b>8.5.1</b> <code>lvg()</code></a></li>
<li class="chapter" data-level="8.5.2" data-path="mutualisms.html"><a href="mutualisms.html#systematic-simulations"><i class="fa fa-check"></i><b>8.5.2</b> Systematic simulations</a></li>
<li class="chapter" data-level="8.5.3" data-path="mutualisms.html"><a href="mutualisms.html#checking-simulation-results"><i class="fa fa-check"></i><b>8.5.3</b> Checking simulation results</a></li>
<li class="chapter" data-level="8.5.4" data-path="mutualisms.html"><a href="mutualisms.html#comparing-simulation-results-to-analytical-solutions"><i class="fa fa-check"></i><b>8.5.4</b> Comparing simulation results to analytical solutions</a></li>
<li class="chapter" data-level="8.5.5" data-path="mutualisms.html"><a href="mutualisms.html#one-last-thing-using-the-jacobian-matrix"><i class="fa fa-check"></i><b>8.5.5</b> One last thing: using the Jacobian matrix</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html"><i class="fa fa-check"></i><b>9</b> Consumer-resource Interactions</a><ul>
<li class="chapter" data-level="9.1" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#ratio-dependence"><i class="fa fa-check"></i><b>9.1</b> Ratio dependence</a><ul>
<li class="chapter" data-level="9.1.1" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#dynamics-of-ratio-dependent-predation"><i class="fa fa-check"></i><b>9.1.1</b> Dynamics of ratio dependent predation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#prey-dependence"><i class="fa fa-check"></i><b>9.2</b> Prey dependence</a><ul>
<li class="chapter" data-level="9.2.1" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#dyanmics-of-prey-dependent-predation"><i class="fa fa-check"></i><b>9.2.1</b> Dyanmics of prey-dependent predation</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#interlude-functional-response---what-an-individual-predator-does"><i class="fa fa-check"></i><b>9.3</b> Interlude: Functional response - what an individual predator does</a></li>
<li class="chapter" data-level="9.4" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#stability-analysis-for-the-prey-dependent-lotkavolterra-model"><i class="fa fa-check"></i><b>9.4</b> Stability analysis for the prey-dependent Lotka–Volterra model</a></li>
<li class="chapter" data-level="9.5" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#prey-carrying-capacity-and-type-ii-functional-response"><i class="fa fa-check"></i><b>9.5</b> Prey carrying capacity and type II functional response</a><ul>
<li class="chapter" data-level="9.5.1" data-path="consumer-resource-interactions.html"><a href="consumer-resource-interactions.html#paradox-of-enrichment"><i class="fa fa-check"></i><b>9.5.1</b> Paradox of enrichment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="disease.html"><a href="disease.html"><i class="fa fa-check"></i><b>10</b> Disease</a><ul>
<li class="chapter" data-level="10.0.1" data-path="disease.html"><a href="disease.html#sir-with-frequencydependent-transmission"><i class="fa fa-check"></i><b>10.0.1</b> SIR with frequency–dependent transmission</a></li>
<li class="chapter" data-level="10.0.2" data-path="disease.html"><a href="disease.html#antonovic-et-al.-metapopulation-disease-dynamics"><i class="fa fa-check"></i><b>10.0.2</b> Antonovic et al. Metapopulation disease dynamics</a></li>
<li class="chapter" data-level="10.0.3" data-path="disease.html"><a href="disease.html#lyme-disease"><i class="fa fa-check"></i><b>10.0.3</b> Lyme Disease</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Primer of Ecology using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="theory" class="section level1">
<h1><span class="header-section-number">1</span> Theory in Ecology</h1>
<p>In this chapter, we introduce a perspective on ecological theory, and provide an example of an efficient theory, metabolic scaling.</p>
<p><em>Scientific theory</em> is a body of knowledge that provides an organized and mechanistic view of how the world works <span class="citation">(Scheiner <a href="#ref-Scheiner2010" role="doc-biblioref">2010</a>)</span>. Theories concerning gravity, general relativity, and evolution by natural selection provide structured ways of connecting observations, patterns, and processes that provide insight into why the world is the way it is. This stands in stark contrast to the colloquial use of <em>theory</em> that implies a lack of knowledge, as when someone says “oh, that’s just a theory”, referring to a guess without much evidence. Scientific theory is a set of explanations whose validity has been tested repeatedly by experiments and new data.</p>
<div id="examples-of-theories" class="section level2">
<h2><span class="header-section-number">1.1</span> Examples of theories</h2>
<p>Ecology has lots of theories, of all different types. Below I discuss some which may be prevalent, important, useful, or some combination.</p>
<div id="hierarchy-theory" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Hierarchy theory</h3>
<p>An early and persistent organizing theory in ecology is based on <em>hierarchy theory</em> <span class="citation">(O’Neill et al. <a href="#ref-ONeill1986" role="doc-biblioref">1986</a>; Rose et al. <a href="#ref-Rose2017" role="doc-biblioref">2017</a>, and references therein)</span>. It posits that ecological systems are structured <em>hierachically</em>, such that each entity comprises subunits. For instance, an entity such as a population of big bluestem grass (<em>Andropogon gerardii</em>) is part of a larger ecology community of many species. The population of big bluestem comprises subpopulations separated in space, a subpopulation comprises separate individuals, that each individual comprises multiple ramets and a set of organ systems and tissues, which comprise different cell types. This theory posits that each entity gives rise to emergent properties to the hierarchical level above it, and influences processes within each smaller sub-entity in the hierachical level below it. As a disciplinary organizing principle, this approach structures nearly all of the ecology curriculum.</p>
<p>Hierarchy theory gets more complicated when the levels of a hierarchy start to include fundamentally different types of entities. The big bluestem hierarchy above included only biotic components–a individual is part of a population which is part of a community of individuals of multiple species, and is made up of organ systems and tissues. Ecology, however, includes both the biotic and the abiotic parts of environments. An ecosystem includes a community of species, but also the nutrients, water, light, and other abiotic components, along with the spatial arrangement of all of these things.</p>
<p>Different hierarchies are useful for different questions. An individual organism can play very different roles in different hierarchies. Consider and individual bunch grass. To understand how a population evolves, we need to count individuals within a population, because evolutionary fitness is tracked by the number of independent reproductive units. In contrast, to understand competitive interactions, it may be much more important to weigh the biomass of groups of individuals in a population, because biomass is more closely related of resource uptake.</p>
</div>
<div id="a-general-theory-of-ecology" class="section level3">
<h3><span class="header-section-number">1.1.2</span> A general theory of ecology</h3>
<p>Good scientific theories exist within a hierarchy of disciplinary knowledge <span class="citation">(Scheiner and Willig <a href="#ref-Scheiner2011" role="doc-biblioref">2011</a>)</span>. They explain phenomena within a <em>domain</em> of knowledge which is organized around <em>principles</em> and <em>assumptions</em>. Scheiner and Willig posit a theory of biology that explains phenomena relating to the “diversity and complexity of living systems”. One of the ten principles on which this theory depends is that “the cell is the fundamental unit of life”. Subsumed within their theory of biology is the theory of cells whose domain is “cells and the causes of their structure, function, and variation.” This theory in turn is based on principles and has theories to organize our understanding of cells and what cells do.</p>
<p><em>Models</em> are specific and explicit manifestations of more general theories. In this book, we focus on popular mathematical models that are specific manifestions of theories of ecology.</p>
<p><span class="citation">Scheiner and Willig (<a href="#ref-Scheiner2011" role="doc-biblioref">2011</a>)</span> propose a theory of ecology, some of which we cover in this book. Here is part of this theory:</p>
<p><strong>The General Theory of Ecology</strong></p>
<p><strong>Domain:</strong> The spatial and temporal pattern of the distribution and abundance of organisms, including causes and consequences.</p>
<p><strong>Principles:</strong></p>
<ol style="list-style-type: decimal">
<li>Organisms are distributed in space and time in a heterogeneous manner.</li>
<li>Organisms interact with their abiotic and biotic environments.</li>
<li>Variation in the characteristics of organisms results in heterogeneity of ecological patterns and processes.</li>
<li>The distributions of organisms and their interactions depend on contingencies.</li>
<li>Environmental conditions as perceived by organisms are heterogeneous in space and time.</li>
<li>Resources as perceived by organisms are finite and heterogeneous in space and time.</li>
<li>Birth and death rates are a consequence of interactions with the abiotic and biotic environment.</li>
<li>The ecological properties of species are the result of evolution.</li>
</ol>
<p>These principles constitute what we know is true about ecological systems. Some of these principles provide the focus for a single chapter while other principles apply broadly to many chapters in this book.</p>
<p><span class="newthought">Here is my own perspective</span> on a general theory of ecology:</p>
<p><em>Domain:</em> The house of life<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>: its constituent entities, causes, and consequences.</p>
<p><em>Principles:</em></p>
<ol style="list-style-type: decimal">
<li>Entities<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> are open systems with inputs and outputs.</li>
<li>Entities have internal complexity.</li>
<li>Entities include self-replicating components (living elements).</li>
<li>Entities interact via inputs, outputs, and behavior.</li>
<li>Rates of change, including inputs and outputs, are influenced directly by physical factors: space, temperature, and concentration.</li>
</ol>
<p>You will see elements of these principles throughout this book as well.</p>
</div>
<div id="efficient-theory" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Efficient theory</h3>
<p><span class="citation">Marquet et al. (<a href="#ref-Marquet2014" role="doc-biblioref">2014</a>)</span> argue that the best theories are those which are <em>efficient</em>. Such theories tend to be <em>based on first principles</em>, which are observations and laws that are fundamental assumptions in a scientific domain. In biology, such principles can include the laws of thermodynamics, and mathematical properties such as the central limit theorem. Theories built upon first principles are thus well-grounded in reality as we understand it and lead logically to refinements. Marquet and his colleagues also claim that efficient theory is <em>expressed in mathematics</em>. Mathematics is a universal language that is unamibiguous. It forces us to be as clear as possible about what we mean when we state a theory.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> Last, efficient theories are those that make a <em>large number of predictions using only a small number of free parameters</em>.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> Examples of efficient theories we cover in this book include metabolic scaling, exponential growth, density dependence, and ecological neutral theory.</p>
<p>Marquet et al. and Scheiner and Willig emphasize slightly different features of the definition of “theory”. Scheiner and Willig emphasize relatively broad ideas that are well-supported by experiments and repeated observation. Marquet and colleagues tend to mean something fairly specific and narrow, typically something that can be expressed mathematically. Scheiner and Willig might refer to such theory as constitutive theory or even simply a model.</p>
<p>Next, I describe the Metabolic Theory of Ecology. This theory is based on first principles, and its central tenets are expressed mathematically. It’s core equation has a very small number of free parameters (fitted constants) and makes a very large number of testable predictions. Parts of this theory are supported by a very large number of observations. It fits everyone’s definition of theory.</p>
</div>
</div>
<div id="metabolic_scaling" class="section level2">
<h2><span class="header-section-number">1.2</span> An example: Metabolic Theory of Ecology</h2>
<p>Metabolic rate is central to how rapidly individuals forage for, consume and use resources, reproduce and die. The <em>metabolic theory of ecology</em> <span class="citation">(Brown et al. <a href="#ref-Brown:2004wa" role="doc-biblioref">2004</a>)</span> is a well-supported body of knowledge about the underlying mechanisms, and the resulting profound and wide-ranging consequences for populations and ecosystems.</p>
<p>Body size and temperature are fundamental properties of organisms and the environment. The study of how body shape and body processes scale with body size is <em>allometry</em>. Because body size affects metabolic rate, body size indirectly helps determine population growth rates and how species interact with each other. Temperature affects how molecules vigorously molecules vibrate and move, and so increasing temperature tends to speed up chemical reactions. As metabolism is really just a complex network of biochemical reactions, temperature influences metabolic rate.</p>
<p>The core of this theory is expressed in a simple mathematical equation that describes how body size and temperature govern metabolic rate.</p>
<div id="body-size-dependence" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Body-size dependence</h3>
<p>There is a profoundly simple and general rule describing the effect of interspecific variation in body size on metabolism.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> This biological law is referred to as the Kleiber law <span class="citation">(Kleiber <a href="#ref-Kleiber1932" role="doc-biblioref">1932</a>)</span>, or <em>quarter power scaling</em> <span class="citation">(Brown et al. <a href="#ref-Brown:2004wa" role="doc-biblioref">2004</a>)</span>. When we compare the basal (i.e. resting) metabolic rates of different species, across a wide range of body sizes spanning many orders of magnitude, we find that</p>
<p><em>whole-organism resting metabolic rate increases with organism mass raised to the three-quarter power</em>, or,</p>
<p><span class="math display">\[
B = aM^{z} \quad;\quad z = 3/4
\]</span></p>
<p>In this equation, <span class="math inline">\(B\)</span> is basal, or resting, metabolic rate, <span class="math inline">\(M\)</span> is body mass, <span class="math inline">\(a\)</span> is a proportionality constant, and <span class="math inline">\(z\)</span> is the <em>power law scaling coefficient</em>. The proportionality constant <span class="math inline">\(a\)</span> varies depending on the type of organism such as arthropods, fish, or mammals. Plants scale in the same manner <span class="citation">(Niklas and Enquist <a href="#ref-Niklas2001" role="doc-biblioref">2001</a>)</span>, although size or mass is a little trickier to measure. The scaling coefficient, <span class="math inline">\(z\)</span>, is the seemingly magical constant that many have argued does not vary substantially among different types of organisms.</p>
<p>Ecologists typically describe metabolism-mass relations and other power law behavior using logarithmic scales. When we do that, power law relations become linear. Using our rules for exponents and logarithms, metabolic scaling becomes
<span class="math display">\[ \log B = \log a + z\log M\]</span>
so that <span class="math inline">\(\log B\)</span> increases linearly with <span class="math inline">\(\log M\)</span> with a slope of <span class="math inline">\(3/4\)</span>. Our brains can process and compare linear relations much more easily than curvilinear ones.</p>
<p>Here we plot the curvilinear relation in R using <code>curve()</code> in the <code>graphics</code> package of R that is included in the base installation as one of the core packages. The function <code>curve()</code> can plot any curve that be expressed as a function of <code>x</code>. Below, we draw a curve of a dotted 1:1 line for comparison, and then <em>add</em> the power function <span class="math inline">\(x^{3/4}\)</span>.</p>
<div class="figure"><span id="fig:MTE34"></span>
<img src="figs/MTE34-1.png" alt="Metabolic rate increases predictably with species body sizes." width="75%" />
<p class="caption">
Figure 1.1: Metabolic rate increases predictably with species body sizes.
</p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="theory.html#cb1-1"></a><span class="co">## using curve, let your variable be &#39;x&#39;.</span></span>
<span id="cb1-2"><a href="theory.html#cb1-2"></a><span class="kw">curve</span>(<span class="dv">1</span><span class="op">*</span>x, <span class="dt">from =</span> <span class="fl">.01</span>, <span class="dt">to=</span><span class="dv">100</span>, <span class="dt">ylab =</span> <span class="st">&quot;Metabolic rate (B)&quot;</span>,</span>
<span id="cb1-3"><a href="theory.html#cb1-3"></a>      <span class="dt">xlab=</span><span class="st">&quot;Body mass (M)&quot;</span>, <span class="dt">lty=</span><span class="dv">3</span>)</span>
<span id="cb1-4"><a href="theory.html#cb1-4"></a><span class="kw">curve</span>(x<span class="op">^</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">4</span>), <span class="dt">from =</span> <span class="fl">.01</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p>To help us grasp the implications of this, let’s consider <em>mass-specific</em> metabolic rates. “Mass-specific” means on a per-gram basis.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> Mass-specific metabolic rate is basal metabolic rate of an individual divided by its mass, or <span class="math inline">\(B/M\)</span>.</p>
<p>The mass-specific metabolic rate allows us to compare directly, for example, the metabolic rate of a cell in a shrew vs. a cell in an elephant. Which cell is burning fuel faster?</p>
<p>We can estimate this from the above metabolic scaling principle and the using rules exponents
<span class="math display">\[ \frac{B}{M} = a \frac{M^z}{M^1} = a M^{z-1} = aM^{-1/4}\]</span>
From this, we now have the rule that</p>
<p><em>mass-specific metabolic rate declines with organisms mass raised to the negative one quater power</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="theory.html#cb2-1"></a>eq1 =<span class="st"> </span><span class="cf">function</span>(M, a){a<span class="op">*</span>M<span class="op">^-</span><span class="fl">0.25</span>} <span class="co"># create the function, F(M)</span></span>
<span id="cb2-2"><a href="theory.html#cb2-2"></a><span class="kw">ggplot</span>(<span class="dt">data=</span><span class="kw">data.frame</span>(<span class="dt">x=</span><span class="kw">c</span>(<span class="fl">0.1</span>, <span class="dv">100</span>)), <span class="kw">aes</span>(<span class="dt">x=</span>x) ) <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-3"><a href="theory.html#cb2-3"></a><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun=</span>eq1, <span class="dt">geom=</span><span class="st">&quot;line&quot;</span>, <span class="dt">args=</span><span class="kw">list</span>(<span class="dt">a=</span><span class="dv">1</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-4"><a href="theory.html#cb2-4"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Mass (M)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Mass-specific metabolic rate (B/M)&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:MTE-MS"></span>
<img src="figs/MTE-MS-1.png" alt="Mass-specific metabolic rate declines predictably with species body sizes." width="75%" />
<p class="caption">
Figure 1.2: Mass-specific metabolic rate declines predictably with species body sizes.
</p>
</div>
<p>Over the years, there has been heated debate about (i) the precise value of the scaling coefficient <span class="math inline">\(z\)</span>, and (ii) the underlying mechanism. Early arguments suggested that <span class="math inline">\(z \approx 2/3\)</span> because the rate heat dissipation scales with the amount surface area. Why <span class="math inline">\(2/3\)</span>?</p>
<p>Let’s envision the volume of an organism having three linear dimensions, so the volume scales to the cube of linear dimensions, while the surface area scales to the square of these linear dimensions,<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>
<span class="math display">\[V \propto L^3\]</span>
<span class="math display">\[A \propto L^2\]</span>
The early explanation was that metabolic rate, <span class="math inline">\(B\)</span>, scales linearly with area,
<span class="math display">\[B \propto A^1 \propto L^2\]</span>.
With substitution we get,
<span class="math display">\[L^2 \propto V^z \propto (L^3)^z\]</span>
implying that the exponents <span class="math inline">\(2 = 3z\)</span> or <span class="math inline">\(z=2/3\)</span>, so we get,
<span class="math display">\[B=V^{2/3}\]</span>,
and, for the most part, mass scales linearly with volume for mammals or any other such group.</p>
<p>This early theory was because it started with first principles (heat dissipation and geometry) and resulted in the prediction of a single parameter. It could then be used to make predictions about how metabolic rate scales with body mass. Metabolic rate governs a huge amount of biology and ecology, including resource consumption rates, lifespan, and maximum population growth rates. Therefore, this theory and this model could be powerful tools for understanding the world and making testable predictions.</p>
<p>The above model is good because it could be tested. That is what has been done, and scientists found that there was a consistent mismatch between observations and the theory. Investigators showed that the value of the exponent appeared closer to 3/4 raher than 2/3. In the 1990s, a group including Jim Brown and Geoffrey West <span class="citation">(West, Brown, and Enquist <a href="#ref-West1997" role="doc-biblioref">1997</a>)</span> proposed an underlying mechanism that explained why it should be 3/4. They assumed that organisms must</p>
<ul>
<li>distribute resources from a single source through a branching, fractal-like, space-filling network to all parts of the body,</li>
<li>the size of the smallest branch ( a capillary) was the same for organisms of all sizes.</li>
<li>the energy required to distribute the resources must be minimized, that less energy-efficient designs would be lost through natural selection.</li>
</ul>
<p>The prediction that resulted from these assumptions was that the exponent would be 3/4. This theory and model begin with different first principles and makes a different prediction.</p>
<p>Soon Jayanth Banavar and his colleagues offered an alternative <span class="citation">(Banavar, Maritan, and Rinaldo <a href="#ref-Banavar1999" role="doc-biblioref">1999</a>; Banavar et al. <a href="#ref-Banavar2002" role="doc-biblioref">2002</a>)</span>, arguing that the assumption of the fractal-like network was not correct, and in any event, was not necessary and did not apply to all organisms. They proposed different theory with less restrictive assumptions and found nonetheless that the exponent was also predicted to be 3/4.</p>
<p>At the base of all these arguments is the geometry of the resource distribution system. All organisms take in limiting resources and have to distribute those resources to each part of each cell in the body. The key point is that <em>the larger the organism, the greater the portion of the resources are in transit at any instant in time</em>. This leads to an increasingly inefficient system, in which the metabolism of larger organisms has to run more slowly per unit resource:</p>
<p><em>Larger organisms can process more resources per unit time (<span class="math inline">\(B=aM^{3/4}\)</span>), but do so less and less efficiently (<span class="math inline">\(\frac{B}{M}=aM^{-1/4}\)</span>) due to resources in transport.</em></p>
<p>Banavar, Brown and others eventually collaborated to address quarter power scaling in animals in particular which led to additional novel predictions <span class="citation">(Banavar et al. <a href="#ref-Banavar2010" role="doc-biblioref">2010</a>)</span>.</p>
<p>This theory remains a fertile and active area of research <span class="citation">(Glazier <a href="#ref-Glazier2018" role="doc-biblioref">2018</a>)</span>. The interested reader should be careful to distinguish between patterns observed across many species of very different sizes, versus patterns observed in a single species with individuals of different sizes versus other types of patterns. Subtly different patterns may be driven be very different mechanisms.</p>
</div>
<div id="temperature-dependence" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Temperature dependence</h3>
<p>In addition to body size, temperature plays the other key role in regulating metabolic rate. The Arrhenius equation connects the macroscopic property of temperature to the kinetic energy of molecules and the rates they govern. Metabolic rate is proportional to these rate determining processes,
<span class="math display">\[B  = a e^{\frac{-E_a}{kT}}\]</span>
where <span class="math inline">\(a\)</span> is just a constant, <span class="math inline">\(e\)</span> is the exponential, <span class="math inline">\(E_a\)</span> is the average activation energy of rate-limiting enzymes (units, eV), <span class="math inline">\(k\)</span> is Boltzmann’s constant (units eV<span class="math inline">\(\,\)</span>K<span class="math inline">\(^{-1}\)</span>), and <span class="math inline">\(T\)</span> (units deg K). Bolztmann’s constant (<span class="math inline">\(\backsim 8.6 \times 10^-5\)</span><span class="math inline">\(\,\)</span>eV<span class="math inline">\(\,\)</span>K<span class="math inline">\(^{-1}\)</span>) converts the macroscopic property of temperature to kinetic energy of molecules.</p>
<p>Individual biochemical reactions combine to determine basal metabolic rate, so <span class="citation">Gillooly (<a href="#ref-Gillooly2000" role="doc-biblioref">2000</a>)</span> have taken this as a foundation for the metabolic theory of ecology <span class="citation">(Brown et al. <a href="#ref-Brown:2004wa" role="doc-biblioref">2004</a>)</span>. In 2000, they suggested that the average activation energy is approximately <span class="math inline">\(E_a = 0.23\,\)</span>eV . Subsequent work has described this as “temperature sensitivity”, where larger numbers imply that organisms respond more strongly to temperature variation.</p>
<p>The Arrhenius equation is a little more complicated that a simple power law, but not too much. Over the range of biologically relevant temperatures, it is dominated by a largely exponential increase in metabolic rate with increasing temperature (Fig @(fig:arrh)).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="theory.html#cb3-1"></a><span class="co"># with base R</span></span>
<span id="cb3-2"><a href="theory.html#cb3-2"></a><span class="co"># base R: curve(10^4*exp(-0.23/(8.5 * 10^-5 *x)), 276, 316), ylab=&quot;B&quot;, xlab=&#39;T&#39;)</span></span>
<span id="cb3-3"><a href="theory.html#cb3-3"></a><span class="co"># or ggplot2</span></span>
<span id="cb3-4"><a href="theory.html#cb3-4"></a><span class="co"># the function, with default parameter values</span></span>
<span id="cb3-5"><a href="theory.html#cb3-5"></a>eq.t &lt;-<span class="st"> </span><span class="cf">function</span>(t,<span class="dt">a=</span><span class="dv">10</span><span class="op">^</span><span class="dv">4</span>,<span class="dt">E=</span><span class="fl">0.23</span>,<span class="dt">k=</span><span class="fl">8.6</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span><span class="op">^-</span><span class="dv">5</span>){a<span class="op">*</span><span class="kw">exp</span>(<span class="op">-</span>E<span class="op">/</span>(k<span class="op">*</span>t))}</span>
<span id="cb3-6"><a href="theory.html#cb3-6"></a><span class="co"># the data used in our function</span></span>
<span id="cb3-7"><a href="theory.html#cb3-7"></a>temps &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">t=</span><span class="dv">276</span><span class="op">:</span><span class="dv">316</span>)</span>
<span id="cb3-8"><a href="theory.html#cb3-8"></a><span class="kw">ggplot</span>(<span class="dt">data=</span>temps, <span class="kw">aes</span>(<span class="dt">x=</span>t)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-9"><a href="theory.html#cb3-9"></a><span class="co"># set the basic properties of the plot</span></span>
<span id="cb3-10"><a href="theory.html#cb3-10"></a><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun=</span>eq.t, <span class="dt">geom=</span><span class="st">&quot;line&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-11"><a href="theory.html#cb3-11"></a><span class="co"># set the function to plot</span></span>
<span id="cb3-12"><a href="theory.html#cb3-12"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Temperature (K)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Metabolic rate (B)&quot;</span>)  </span></code></pre></div>
<div class="figure"><span id="fig:arrh"></span>
<img src="figs/arrh-1.png" alt="The effect of body temperature on ectothermic metabolic rates can be approximated with the Arrhenius function, $B = a e^{-E_a/(kT)}$. Here $a = 10^4$, and $E_a = 0.23$. It is similar in shape to a power law with z &gt; 1, over the range of biologically relevant temperatures." width="75%" />
<p class="caption">
Figure 1.3: The effect of body temperature on ectothermic metabolic rates can be approximated with the Arrhenius function, <span class="math inline">\(B = a e^{-E_a/(kT)}\)</span>. Here <span class="math inline">\(a = 10^4\)</span>, and <span class="math inline">\(E_a = 0.23\)</span>. It is similar in shape to a power law with z &gt; 1, over the range of biologically relevant temperatures.
</p>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="theory.html#cb4-1"></a><span class="co"># add labels</span></span></code></pre></div>
<p>When we linearize the relation between metabolic rate and temperature, we get
<span class="math display">\[
\begin{aligned}
B &amp;= a e^{\frac{-E_a}{kT}}\\
\log(B) &amp;= \log{a} - E_a\frac{1}{kT}\\
\end{aligned}
\]</span>
where the dependent variable is <span class="math inline">\(1/(kT)\)</span>, <span class="math inline">\(-E_a\)</span> is the slope, and <span class="math inline">\(\log a\)</span> is the intercept. Thus, the negative slope of this relation describes theoretical prediction for the effect of temperature on metabolic rate.</p>
<p><strong>So, there you have it.</strong> The metabolic theory ecology is the algebraic product of body size- and temperature-dependence:
<span class="math display">\[B = a M^{3/4} e^{\frac{-E_a}{kT}}\]</span>
This theory makes quantitative predictions regarding all kinds of ecology phenomena <span class="citation">(Brown et al. <a href="#ref-Brown:2004wa" role="doc-biblioref">2004</a>)</span>, including</p>
<ul>
<li>home range size</li>
<li>population growth</li>
<li>population size</li>
<li>resource uptake</li>
<li>predation and other species interactions, and</li>
<li>ecosystem cycling.</li>
</ul>
<p>Note that these relations are based on first principles of geometry and thermodynamics, and that they depend on only a small number of parameters (<span class="math inline">\(a\)</span>, <span class="math inline">\(-E_a\)</span>, and perhaps <span class="math inline">\(z=3/4\)</span>), and makes a tremendous number of predictions. Therefore, <span class="citation">Marquet et al. (<a href="#ref-Marquet2014" role="doc-biblioref">2014</a>)</span> propose that this is “good” theory, and very <em>efficient</em>.</p>
</div>
</div>
<div id="power-law-scaling-implies-constant-relative-differences" class="section level2">
<h2><span class="header-section-number">1.3</span> Power law scaling implies constant relative differences</h2>
<p>In power law scaling, relative change is constant. That is, a proportional change in one variable results in a proportional change in the other. For instance, when we compare a smaller species to a larger species with <span class="math inline">\(100 \times\)</span> the body mass, we can expect to see metabolic rate increase by <span class="math inline">\(31.6 \times\)</span>, <em>regardless of the mass of the smaller species.</em> For now, we will verify this numerically for some limited cases.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="theory.html#cb5-1"></a><span class="co"># define body mass and metabolic rate</span></span>
<span id="cb5-2"><a href="theory.html#cb5-2"></a>m &lt;-<span class="st"> </span><span class="kw">c</span>(.<span class="dv">01</span>, <span class="dv">1</span>, <span class="dv">100</span>, <span class="dv">10000</span>)</span>
<span id="cb5-3"><a href="theory.html#cb5-3"></a>b &lt;-<span class="st"> </span>m<span class="op">^</span>.<span class="dv">75</span></span></code></pre></div>
<p>Now we will divide each mass <span class="math inline">\(i\)</span> by the next smallest mass <span class="math inline">\(i-1\)</span>. We do that using a vector by dividing each mass except the first one, by each mass except the last one.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="theory.html#cb6-1"></a><span class="co"># round(x, digits=0) rounds number to zero decimal places</span></span>
<span id="cb6-2"><a href="theory.html#cb6-2"></a><span class="kw">round</span>( m[<span class="op">-</span><span class="dv">1</span>]<span class="op">/</span>m[<span class="op">-</span><span class="kw">length</span>(m)], <span class="dt">digits =</span> <span class="dv">0</span>)</span>
<span id="cb6-3"><a href="theory.html#cb6-3"></a><span class="kw">round</span>( b[<span class="op">-</span><span class="dv">1</span>]<span class="op">/</span>b[<span class="op">-</span><span class="kw">length</span>(b)], <span class="dt">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
When we do these divisions, we see the constant relative change (<a href="theory.html#tab:relativemb">1.1</a>).
<table>
<caption>
<span id="tab:relativemb">Table 1.1: </span>As we increase mass by a constant multiplier (10x), power law scaling results in a constant proportional change in basal metabolc rate.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Small
</th>
<th style="text-align:right;">
Med.
</th>
<th style="text-align:right;">
Big
</th>
<th style="text-align:right;">
Huge
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Mass
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
100.00
</td>
<td style="text-align:right;">
10000.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Basal.metabolic.rate
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
31.62
</td>
<td style="text-align:right;">
1000.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Relative.change.m
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
100.00
</td>
<td style="text-align:right;">
100.00
</td>
<td style="text-align:right;">
100.00
</td>
</tr>
<tr>
<td style="text-align:left;">
relative.change.b
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
31.62
</td>
<td style="text-align:right;">
31.62
</td>
<td style="text-align:right;">
31.62
</td>
</tr>
</tbody>
</table>
<p>We can verify this generally using algebra, not just in the particular case above. We will show that if mass increases by a constant multiplier, metabolic rate will also, regardless of the particular masses involved.</p>
<p>Let mass <span class="math inline">\(m_2\)</span> be greater than mass <span class="math inline">\(m_1\)</span> by a factor of <span class="math inline">\(c\)</span>, so that <span class="math inline">\(m_2 = c m_1\)</span>, and
<span class="math display">\[\frac{m_2}{m_1} = c\]</span>.</p>
<p>We would like to show that the ratio of the metabolic rates <span class="math inline">\(b_2 / b_1\)</span> is also a constant. Since <span class="math inline">\(m_2 = cm_1\)</span>, we can say that
<span class="math display">\[b_1 = a m_1^{3/4}\]</span>
<span class="math display">\[b_2 = a (cm_1)^{3/4} = ac^{3/4}m_1^{3/4}\]</span>
<span class="math display">\[\frac{b_2}{b_1} = \frac{ac^{3/4}m_1^{3/4}}{am_1^{3/4}}\]</span>
When we reduce this fraction, we a left with
<span class="math display">\[\frac{b_2}{b_1} = c^{3/4}\]</span></p>
<p>This shows that with power law scaling, increasing <span class="math inline">\(x\)</span> by a constant <em>multipier</em> (or proportion), <span class="math inline">\(y\)</span> increases by the same proportion raised to that power.</p>
<p>Let’s represent this graphically in a couple of ways, reusing data we made up previously in this chapter. First, we just change the axes themselves, so that the units of the scales are multiples of 10 (often in scientific notation).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="theory.html#cb7-1"></a><span class="co"># using base R</span></span>
<span id="cb7-2"><a href="theory.html#cb7-2"></a><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">mgp=</span><span class="kw">c</span>(<span class="fl">1.5</span>,.<span class="dv">4</span>,<span class="dv">0</span>) )<span class="co"># set figure margins in &quot;lines&quot;</span></span>
<span id="cb7-3"><a href="theory.html#cb7-3"></a><span class="kw">curve</span>(x<span class="op">^</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">4</span>), <span class="dt">from =</span> <span class="fl">.01</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">log=</span><span class="st">&quot;xy&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Basal metabolic rate&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Mass&quot;</span>)</span>
<span id="cb7-4"><a href="theory.html#cb7-4"></a><span class="kw">text</span>(<span class="dv">10</span>, <span class="dv">80</span><span class="op">^</span>.<span class="dv">7</span>, <span class="kw">expression</span>(M<span class="op">^</span><span class="fl">0.75</span>))</span></code></pre></div>
<div class="figure"><span id="fig:logscale"></span>
<img src="figs/logscale-1.png" alt="changing the scales of the axes to linearize power law relations. Note scales are logarithmic, using the original linear values." width="50%" />
<p class="caption">
Figure 1.4: changing the scales of the axes to linearize power law relations. Note scales are logarithmic, using the original linear values.
</p>
</div>

</div>
</div>
<h3> References</h3>
<div id="refs" class="references">
<div id="ref-Banavar2002">
<p>Banavar, Jayanth R, John Damuth, Amos Maritan, Andrea Rinaldo, Geoffrey B West, and Brian J. Enquist. 2002. “Modelling universality and scaling - communications arising.” <em>Nature</em> 420 (December): 626–27.</p>
</div>
<div id="ref-Banavar1999">
<p>Banavar, J R, a Maritan, and a Rinaldo. 1999. “Size and form in efficient transportation networks.” <em>Nature</em> 399 (6732): 130–2.</p>
</div>
<div id="ref-Banavar2010">
<p>Banavar, J. R., M. E. Moses, J. H. Brown, J. Damuth, A. Rinaldo, R. M. Sibly, and A. Maritan. 2010. “A general basis for quarter-power scaling in animals.” <em>Proceedings of the National Academy of Sciences</em> 107 (36): 15816–20.</p>
</div>
<div id="ref-Brown:2004wa">
<p>Brown, J H, J F Gillooly, A P Allen, V M Savage, and G B West. 2004. “Toward a metabolic theory of ecology.” <em>Ecology</em> 85 (7): 1771–89.</p>
</div>
<div id="ref-Gillooly2000">
<p>Gillooly, James F. 2000. “Effect of body size and temperature on generation time in zooplankton” 22 (2): 241–51.</p>
</div>
<div id="ref-Glazier2018">
<p>Glazier, Douglas S. 2018. “Rediscovering and Reviving Old Observations and Explanations of Metabolic Scaling in Living Systems.” <em>Systems</em> 6 (4).</p>
</div>
<div id="ref-Kleiber1932">
<p>Kleiber, M. 1932. “Body Size and Metabolism.” <em>Hilgardia</em>, 315–32.</p>
</div>
<div id="ref-Marquet2014">
<p>Marquet, Pablo A., Andrew P. Allen, James H. Brown, Jennifer A. Dunne, Brian J. Enquist, James F. Gillooly, Patricia A. Gowaty, et al. 2014. “On theory in ecology.” <em>BioScience</em> 64 (8): 701–10.</p>
</div>
<div id="ref-Niklas2001">
<p>Niklas, Karl J., and Brian J. Enquist. 2001. “Invariant scaling relationships for interspecific plant biomass production rates and body size.” <em>Proceedings of the National Academy of Sciences of the United States of America</em> 98 (5): 2922–7.</p>
</div>
<div id="ref-ONeill1986">
<p>O’Neill, RV, DL De Angelis, JB Waide, and TFH Allen. 1986. <em>A Hierarchical Concept of Ecosystems.</em> Vol. 23. Monographs in Population Biology. Princeton University Press, Princeton, New Jersey, USA.</p>
</div>
<div id="ref-Rose2017">
<p>Rose, Kevin C., Rose A. Graves, Winslow D. Hansen, Brian J. Harvey, Jiangxiao Qiu, Stephen A. Wood, Carly Ziter, and Monica G. Turner. 2017. “Historical foundations and future directions in macrosystems ecology.” <em>Ecology Letters</em> 20 (2): 147–57.</p>
</div>
<div id="ref-Scheiner2010">
<p>Scheiner, Samuel M. 2010. “Toward a conceptual framework for biology.” <em>Quarterly Review of Biology</em> 85 (3): 293–318.</p>
</div>
<div id="ref-Scheiner2011">
<p>Scheiner, S M, and M. R. Willig. 2011. <em>The Theory of Ecology</em>.</p>
</div>
<div id="ref-West1997">
<p>West, G B, J H Brown, and B J Enquist. 1997. “A general model for the origin of allometric scaling laws in biology.” <em>Science</em> 276: 122–26.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>“ecology” derives from the Greek “oikos” which means the rules of the house<a href="theory.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>An entity may be an ecosystem, a community, a population, an individual, or some other system with operationally defined boundaries.<a href="theory.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><span class="math inline">\(E=mc^2\)</span> - need I say more?<a href="theory.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Variables are quantities we measure and which change through time (e.g., population size). <em>Parameters</em> are (usually) fixed constants that govern the rates of change of variables (e.g., per capita birth rate).<a href="theory.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Metabolic rate may be measured by variables tied directly to metabolism, such as the rate of oxygen or energy consumption, or CO<span class="math inline">\(_2\)</span> production.<a href="theory.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>With plants, we often measure something called “specific leaf area”, SLA, which is the two dimensional area of a leaf divided by its mass.<a href="theory.html#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>A linear relation is one in which <span class="math inline">\(y\)</span> is proportional to <span class="math inline">\(x\)</span>, or <span class="math inline">\(y \propto x\)</span>.<a href="theory.html#fnref8" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="oft.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
